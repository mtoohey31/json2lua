var T=Object.defineProperty;var G=(s,e,r)=>e in s?T(s,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):s[e]=r;var S=(s,e,r)=>(G(s,typeof e!="symbol"?e+"":e,r),r);import{S as I,i as q,s as M,e as p,a as v,b as a,c as z,d as k,f as i,g as L,l as A,n as w,h as O,r as H,j as B,t as K,k as N,m as R,o as E,p as Y,q as $,u as D,P as J,v as Q,w as U,x as V}from"./vendor.c13aea24.js";const W=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const t of o)if(t.type==="childList")for(const l of t.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(o){const t={};return o.integrity&&(t.integrity=o.integrity),o.referrerpolicy&&(t.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?t.credentials="include":o.crossorigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function n(o){if(o.ep)return;o.ep=!0;const t=r(o);fetch(o.href,t)}};W();class X extends Error{constructor(e){super();S(this,"node");this.node=e}}function Z(s){let e,r,n,o,t,l,u,m,c,f,g,y;return{c(){e=p("div"),r=p("div"),n=p("label"),n.textContent="JSON Input",o=v(),t=p("textarea"),l=v(),u=p("div"),m=p("label"),m.textContent="Lua Output",c=v(),f=p("textarea"),a(n,"for","json-input"),a(t,"id","json-input"),a(t,"class","flex-grow p-2 font-mono rounded-xl bg-gray-200 border-4 border-blue-500"),z(t,"resize","none"),a(r,"class","flex-grow flex flex-col"),a(m,"for","lua-output"),a(f,"id","lua-output"),a(f,"class","flex-grow p-2 font-mono rounded-xl bg-gray-200 border-4 border-orange-500"),z(f,"resize","none"),a(f,"contenteditable",!1),a(u,"class","flex-grow flex flex-col"),a(e,"class","flex-grow flex flex-col sm:flex-row gap-4 px-4")},m(h,_){k(h,e,_),i(e,r),i(r,n),i(r,o),i(r,t),L(t,s[0]),i(e,l),i(e,u),i(u,m),i(u,c),i(u,f),L(f,s[1]),g||(y=[A(t,"input",s[3]),A(f,"input",s[4])],g=!0)},p(h,[_]){_&1&&L(t,h[0]),_&2&&L(f,h[1])},i:w,o:w,d(h){h&&O(e),g=!1,H(y)}}}function P(s){switch(s.type){case"number":case"true":case"false":case"string":return s.text;case"null":return"nil";case"array":case"object":return"{ "+s.namedChildren.map(e=>P(e)).join(", ")+" }";case"pair":return s.childForFieldName("key").descendantsOfType("string_content")[0].text+" = "+P(s.childForFieldName("value"));default:console.error("unsupported type: "+s.type)}}function ee(s,e,r){let{parser:n}=e;function o(c){if(c.hasError())throw new X(c);return P(c.children[0])}let t=`[
  345,
  10.1,
  10,
  -10,
  null,
  true,
  false,
  { "stuff": "good" }
]`,l="";function u(){t=this.value,r(0,t)}function m(){l=this.value,r(1,l),r(2,n),r(0,t)}return s.$$set=c=>{"parser"in c&&r(2,n=c.parser)},s.$$.update=()=>{if(s.$$.dirty&5&&n)try{r(1,l=o(n.parse(t).rootNode))}catch{}},[t,l,n,u,m]}class te extends I{constructor(e){super();q(this,e,ee,Z,M,{parser:2})}}function re(s){let e,r;return e=new te({props:{parser:s[0]}}),{c(){Q(e.$$.fragment)},m(n,o){U(e,n,o),r=!0},p(n,o){const t={};o&1&&(t.parser=n[0]),e.$set(t)},i(n){r||(E(e.$$.fragment,n),r=!0)},o(n){N(e.$$.fragment,n),r=!1},d(n){V(e,n)}}}function ne(s){let e;return{c(){e=p("div"),e.innerHTML='<div class="text-center relative text-red-500" style="top: 50%; transform: translateY(-50%);">Failed to load parser... please try reloading the page.</div>',a(e,"class","flex-grow transition:fade")},m(r,n){k(r,e,n)},p:w,i:w,o:w,d(r){r&&O(e)}}}function se(s){let e,r,n,o,t,l,u,m,c,f,g,y,h,_;const C=[ne,re],x=[];function F(d,b){return d[1]?0:1}return t=F(s),l=x[t]=C[t](s),{c(){e=p("main"),r=p("div"),n=p("h1"),n.textContent="JSON2Lua",o=v(),l.c(),u=v(),m=p("footer"),c=p("div"),f=p("a"),g=B("svg"),y=B("path"),h=K(`
          Source`),a(n,"class","text-3xl p-4"),a(y,"d",$),a(g,"class","inline h-5"),a(g,"viewBox","0 0 24 24"),a(f,"href","https://github.com/mtoohey31/json2lua"),a(c,"class","hover:underline"),a(m,"class","flex justify-around p-2"),a(r,"class","flex flex-col h-full"),a(e,"class","w-screen h-screen bg-white")},m(d,b){k(d,e,b),i(e,r),i(r,n),i(r,o),x[t].m(r,null),i(r,u),i(r,m),i(m,c),i(c,f),i(f,g),i(g,y),i(f,h),_=!0},p(d,[b]){let j=t;t=F(d),t===j?x[t].p(d,b):(D(),N(x[j],1,1,()=>{x[j]=null}),R(),l=x[t],l?l.p(d,b):(l=x[t]=C[t](d),l.c()),E(l,1),l.m(r,u))},i(d){_||(E(l),_=!0)},o(d){N(l),_=!1},d(d){d&&O(e),x[t].d()}}}function oe(s,e,r){let n=null,o=!1;return Y(async()=>{let t=5;for(;t>0;)try{const l=await J.Language.load("./tree-sitter-json.wasm");let u=new J;u.setLanguage(l),r(0,n=u);return}catch{t-=1}r(1,o=!0)}),[n,o]}class le extends I{constructor(e){super();q(this,e,oe,se,M,{})}}new le({target:document.getElementById("app")});
